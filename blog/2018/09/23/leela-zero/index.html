<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>Leela Zero</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="https://weblog.metacircular-evaluator.org/favicon.png" rel="icon">

  
  

  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="">

  
  <meta name="generator" content="Hugo 0.50" />

  
  

  
  

</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://weblog.metacircular-evaluator.org/">/var/log/messages</a></h1>
    <h2></h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>

<ul class="subscription">
  

</ul>


</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
    <p class="meta">Sep 23, 2018
         - 4 minute read 
         - <a href="https://weblog.metacircular-evaluator.org/blog/2018/09/23/leela-zero/#disqus_thread">Comments</a>

        
        
            - <a class="label" href="https://weblog.metacircular-evaluator.org/categories/misc/">misc </a>
        
    </p>
    <h1 class="entry-title">
         Leela Zero 
    </h1>
</header>


        <div class="entry-content">
          
          
          
          <p>なんとなくググッてるとずけらん先パイのエントリが。</p>

<ul>
<li><a href="https://igo.zukeran.org/2017/11/15/leela-zero-1/">Leela Zero が公開されています</a></li>
</ul>

<p>面白そうなので<a href="https://github.com/gcp/leela-zero/blob/master/COLAB.md">ここ</a>に記載されている諸々を試してみます。ログを以下に。</p>

<p></p>

<h2 id="とりあえず">とりあえず</h2>

<p>ドキュメントを機械翻訳にかけてみます。</p>

<h2 id="run-leela-zero-client-on-a-tesla-k80-gpu-for-free-google-colaboratory">Run Leela Zero client on a Tesla K80 GPU for free (Google Colaboratory)</h2>

<p>Google Colaboratory（Colab）は、機械学習のための無料ツールです。 これは、NVIDIA Tesla K80 GPUを搭載したパーソナルVM上のPythonノートブック環境です。 Colabを使用すると、ブラウザはインストールされずに実行されます。</p>

<p>この例では、K80 GPUでLeela Zeroクライアントを実行してトレーニングゲームに参加する方法を示します。 あなたは1日に60-80ゲームを寄付することを期待できます。</p>

<p>GoogleはGPUへの無料で無制限のアクセスを提供していますが、各セッションは12時間の使用後に停止し、再起動する必要があります。 また、ブラウザのタブを開いたままにする必要があります。 詳細は以下のとおりです。</p>

<p>トレーニングに複数のアカウントを使用しないでください。 Googleはユーザーにこれをブロックすると通知しています。</p>

<h2 id="running-the-gpu-client">Running the GPU client</h2>

<ul>
<li>Googleアカウントにログインし、<a href="https://colab.research.google.com/drive/1WQfPOFhkahIJSxdIjeSQqK4q30j3T1qF">ノートブックをGoogle Colabで開きます</a>。</li>
<li>ファイル -&gt; ドライブにコピーを保存します。</li>
<li>コピーしたノートブックが開いたら、Runtime - &gt; Run Allをクリックして、各セルを順番に実行します。 完了までに約10分かかります。</li>
</ul>

<p>注：GoogleはGPUへの無制限アクセスを提供していますが、各セッションは12時間の使用後に停止し、再起動する必要があります。 アニメーション回転 &ldquo;停止&rdquo;シンボルは、セルが停止したときに静的な赤い &ldquo;再生&rdquo;シンボルに変わります。 「ランタイム」 - &gt;「ランタイムの再起動」 - 「すべて実行」の順で再起動できます。 単純なマクロは、再起動プロセスを自動化するために動作します。</p>

<p>Colabを実行しているブラウザのタブを閉じると、セッションも終了します（タブを閉じると約1.5時間後）。 クライアントを12時間フル稼働させるには、タブを開いたままにしてください。</p>

<h2 id="troubleshooting">Troubleshooting</h2>

<ul>
<li>クライアントの実行時に &ldquo;failed to assign a backend&rdquo; というポップアップ（以下の例）が発生した場合、または &ldquo;signal: aborted (core dumped)&rdquo; エラーが発生した場合、Google Colabで使用できるGPUはありません。 Runtime -&gt; Restart Runtime して再度実行するか、<code>!kill -9 -1</code> でVM全体を強制終了してもう一度実行してください（VMは強制終了後に再起動するまでに5分かかることがあります）。 Google Colabには無料GPUの数が限られていますので、別の時間にもう一度試してください。</li>
</ul>

<pre><code>cl::Error
what():  clGetPlatformIDs
2018/04/18 14:52:31 signal: aborted (core dumped)
</code></pre>

<ul>
<li>ノートブックが「初期化中」で停止していて実行されない場合は、上記のように再起動してください。再起動後、緑色のチェックマークが付いた「接続済み」が表示されます。</li>
</ul>

<h2 id="コピーしてみた">コピーしてみた</h2>

<p>以下なテキストがあったのでこれも機械翻訳。</p>

<p>This notebook shows how to run a Leela Zero client on Google Colab&rsquo;s NVIDIA Tesla K80 GPU. Thanks to djinnome from the Leela Chess Zero GitHub who figured it out.
Run each cell in order, waiting for the previous one to finish before running the next.
The scripts and cell layout may be messy/redundant, but this should work.</p>

<p>このノートブックは、Google ColabのNVIDIA Tesla K80 GPUでLeela Zeroクライアントを実行する方法を示しています。 それを理解したLeela Chess Zero GitHubのdjinnomeに感謝します。
各セルを順番に実行し、前のセルを終了してから次のセルを実行します。
スクリプトとセルのレイアウトが厄介で冗長かもしれませんが、これはうまくいくはずです。</p>

<h2 id="なるほど">なるほど</h2>

<p>それぞれのセルを順に実行してけば良いのか。やってみます。何か控えがあれば追記の方向にて。</p>

<h2 id="追記">追記</h2>

<p>これ一度 <code>autogtp</code> が走るとあとは放たらかし、で良いのか。成程。kickoff したのが 1500 過ぎ、なので明日の朝あたりで restart できるかどうかを確認すれば良いのかな。</p>
        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn"></span></span>
    
    <time>Sep 23, 2018</time>
    
    </span>
  </p>

  

  <p class="meta">
    
        <a class="basic-alignment left" href="https://weblog.metacircular-evaluator.org/blog/2018/09/22/open-lecture/" title="真空管アンプの製作">真空管アンプの製作</a>
    

    
      <a class="basic-alignment right" href="https://weblog.metacircular-evaluator.org/blog/2018/09/24/puchase-of-goods/" title="物品購入">物品購入</a>
    
  </p>
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
 <ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-5885095939968393"
     data-ad-slot="3213323462"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
 </script>

  
    
      <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'yamanetoshi';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    
      <h1>About Me</h1>
    

    <p>
      
        <p><a href="https://about.me/yamanetoshi"><img src="/images/glider.png" alt="glider.png"/></a></p><p><strong>YAMANE Toshiaki</strong>(<a href="https://twitter.com/yamanetoshi">@yamanetoshi</a>)</p>

      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/yamanetoshi" title="https://github.com/yamanetoshi"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/yamanetoshi" title="https://twitter.com/yamanetoshi"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      
      
      
      
      
      <a target="_blank" href="https://www.instagram.com/yamanetoshi" title="https://www.instagram.com/yamanetoshi"><i class="fa fa-instagram fa-3x"></i></a>
      

    
    
    </li>
  </ul>

  

  
    
      <section class="odd">
        
        
      </section>
    
  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2018/11/24/install-sublime/">でびあんに sublime</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/23/data-restoration/">NAS からのデータ復旧</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/22/long-holiday/">連休</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/21/chikun-toramaru-nhk/">でびあん install その後</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/20/chikun-toramaru-nhk/">でびあん install その後</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/19/chikun-toramaru-nhk/">draw.io</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/18/chikun-toramaru-nhk/">チクン先生と虎丸くんのナニが youtube に</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/17/elixir-mokumoku/">elixir もくもく</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/16/nuxtjs-pwa/">nuxt.js で PWA</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018/11/15/migration-is-subtle/">移行が微妙な件</a>
              </li>
            
          
        </ul>
      </section>
    
  

<section>
    <h1>Books</h1>
 <ul>
<li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/4873117127/yamanetoshi-22/' target='_blank'><img src='/images/514ifs4Y5bL._SL160_.jpg' width='113' height='160' alt='コンピュータシステムの理論と実装 ―モダンなコンピュータの作り方' title='コンピュータシステムの理論と実装 ―モダンなコンピュータの作り方' /></a>
</li>
 <li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/4873116309/yamanetoshi-22/' target='_blank'><img src='/images/41SlY0zvpKL._SL160_.jpg' width='113' height='160' alt='Team Geek ―Googleのギークたちはいかにしてチームを作るのか' title='Team Geek ―Googleのギークたちはいかにしてチームを作るのか' /></a>
</li>
 <li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/4873114535/yamanetoshi-22/' target='_blank'><img src='/images/51NDW60LBQL._SL160_.jpg' width='125' height='160' alt='Prototyping Lab ―「作りながら考える」ためのArduino実践レシピ (Make:PROJECTS)' title='Prototyping Lab ―「作りながら考える」ためのArduino実践レシピ (Make:PROJECTS)' /></a>
</li>
 <li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/B0054RGYNQ/yamanetoshi-22/' target='_blank'><img src='/images/51F7PJ0KzYL._SL160_.jpg' width='124' height='160' alt='Fearless Change: Patterns for Introducing New Ideas' title='Fearless Change: Patterns for Introducing New Ideas' /></a>
</li>
 <li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/4774145211/yamanetoshi-22/' target='_blank'><img src='/images/515WitVr5lL._SL160_.jpg' width='112' height='160' alt='プロセッサを支える技術　　－－果てしなくスピードを追求する世界 (WEB+DB PRESS plus)' title='プロセッサを支える技術　　－－果てしなくスピードを追求する世界 (WEB+DB PRESS plus)' /></a>
</li>
 <li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/489471163X/yamanetoshi-22/' target='_blank'><img src='/images/51ZSMEJ9Y2L._SL160_.jpg' width='112' height='160' alt='計算機プログラムの構造と解釈' title='計算機プログラムの構造と解釈' /></a>
</li>
 <li>
<a href='https://www.amazon.co.jp/exec/obidos/ASIN/4798023809/yamanetoshi-22/' target='_blank'><img src='/images/41R5gj5VRFL._SL160_.jpg' width='113' height='160' alt='入門Git' title='入門Git' /></a>
</li>
</ul>
 </section>
 <section>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
 <ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:600px"
     data-ad-client="ca-pub-5885095939968393"
     data-ad-slot="7922724663"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</section>
  
</aside>

  </div>
</div>



<footer role="contentinfo">
  <p>Copyright &copy; 2018  - <a href="https://weblog.metacircular-evaluator.org/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>






<script>
  var _gaq=[['_setAccount','UA-45385426-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

